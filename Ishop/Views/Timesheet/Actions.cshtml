@model IShop.Core.Timesheet

@{
    ViewBag.Title = "Approvals";
}

<style>
    .curved-table {
        border-collapse: collapse;
        border-radius: 10px;
        overflow: hidden;
    }

        .curved-table th,
        .curved-table td {
            padding: 10px;
            border: 1px solid whitesmoke;
        }
</style>
<div class="card " style="background-color: rgb(255, 255, 255, 0.61);">


    <div class="card-header col-md-12 col-sm-12 col-12 " style="background-color: #0C54A0; color: white; ">
        <h3 class="card-title" style="color:white;text-align:center">
            <i class="fa fa-suitcase"></i>
            Timesheet Details
        </h3>
    </div>
</div>
<div class="row justify-content-center">
    <div class="col-xl-9">

        <div class="card-body" style="background-color: white;border-radius: 24px;">

            <h3><i class=" fa fa-bookmark text-primary"></i>  Approvals</h3>
            <div class="dropdown-divider"></div>




            <div class="col-lg-8 col-12">
                <!-- small card -->
                <div class="small-box bg-gradient-white" style="border-radius: 15px">
                    <div class="inner">

                        <h3> <i class="fa fa-user-circle text-warning"></i><b> @Model.Owner</b></h3>
                        <h5><i class="fa fa-university"></i> <b>Department</b> :  @Model.Department </h5>
                        <p style="font-size:medium"><b><i class=" fa fa-calendar-check text-primary"></i>  From Date : </b> @Model.From_Date.ToString("dd-MMM-yyyy")     <b style="font-size:larger">TO</b>  <b><i class=" fa fa-calendar-check text-warning"></i>  End Date : </b> @Model.End_Date.ToString("dd-MMM-yyyy") </p>


                        <h5>
                            <b>Status :</b>  @if (@Model.Status == 0)
                            {
                                <b style="color: gray; font-size: medium">   Pending Approval  </b>
                            }
                            else
                            {
                                <b style="color: green; font-size: medium "><i class="fa fa-check-circle "></i> Approved </b>
                            }
                        </h5>
                    </div>
                    <div class="icon"> <i class="fa fa-calendar-day"></i></div>

                </div>
            </div>
            <div class="dropdown-divider"></div>





            <div class="row">
                <div class="col-md-3 col-sm-4 col-9">
                    <div class="info-box" style="border-radius: 14px; background-color: #0C54A0 ">
                        <span><i class="fa fa-user-clock text-white"></i></span>

                        <div class="info-box-content" style="color: white">
                            <span class="info-box-text">Total  Hours</span>
                            <h4><span class="info-box-number">@Model.Tt <small><b>Hours</b></small></span></h4>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <div class="col-md-3 col-sm-4 col-9">
                    <div class="info-box" style="border-radius: 14px; background-color:#01520d ">
                        <span><i class="fa fa-user-clock text-white"></i></span>

                        <div class="info-box-content" style="color: white">
                            <span class="info-box-text">Direct Hours</span>
                            <h4><span class="info-box-number">@Model.Direct_Hours </span></h4>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <div class="col-md-3 col-sm-4 col-9">
                    <div class="info-box" style="border-radius: 14px; background-color:#444343 ">
                        <span><i class="fa fa-user-clock text-white"></i></span>

                        <div class="info-box-content" style="color: white">
                            <span class="info-box-text">InDirect Hours</span>
                            <h4><span class="info-box-number">@Model.InDirect_Hours </span></h4>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
            </div>


            <div class="dropdown-divider"></div>

            <label><i class="fa fa-comment-dots text-primary"></i> Approver Comments</label>
            <div class="form-group col-md-8">
                <textarea class="form-control" id="comments" rows="4" required oninput="updateButtonStates()"></textarea>
            </div>
         
            <div class="dropdown-divider"></div>
           

            <div style="text-align:center">
                @if (this.User.IsInRole("Timesheet_Approvals") && Model.Status == 0)
                {
                    <a href="@Url.Action("ApproveTimesheet", "Timesheet", new {Id=Model.Id, user = Model.Owner,From_Date=Model.From_Date,End_Date=Model.End_Date })" class="btn btn-success btn" id="approveBtn" onclick="return confirm('Are you sure you want to approve staff timesheet?')" disabled>
                        <i class="fa fa-check-circle text-black"></i> Approve Week Timesheet
                    </a>
                    <a href="@Url.Action("ApproveTimesheet", "Timesheet", new {Id=Model.Id, user = Model.Owner})" class="btn btn-danger btn" id="rejectBtn" onclick="return confirm('Are you sure you want to reject staff timesheet?')" disabled>
                        <i class="fa fa-check-circle text-black"></i> Reject Timesheet
                    </a>

                }
                ||
                <a href="@Url.Action("BreakDown", "Timesheet", new { FromDate=Model.From_Date.ToString("yyyy-MM-dd"),EndDate=Model.End_Date.ToString("yyyy-MM-dd"),User=Model.Owner })" class="btn btn btn-warning btn">
                    <i class="fa fa-check-circle text-black"></i> View Timesheet BreakDown
                </a>

                ||
                <a href="@Request.UrlReferrer" class="btn btn-primary">Back</a>


            </div>

        </div>
    </div>
</div>