@model IShop.Core.Project

@{
    ViewBag.Title = "Edit";
}


<br />
<div class="col d-flex justify-content-center">
    <div class="col-md-9 col-sm-12 col-12">
        <div class="card mb- mb-xl-0" style="border-radius: 24px;">
            <div class="card-header" style="background-color: #0656A5; color: white; border-radius: 14px ">
                <i class="fa fa-bookmark"></i> New Project add
            </div>
            <div class="card-body" style="background-color: white;border-radius: 24px;">
                <div class="card-body" style="background-color: #ffffffc1;border-radius: 24px;">
                    @using (Html.BeginForm("Edit", "projects", FormMethod.Post))
                    {
                        @Html.AntiForgeryToken()

                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                        <form>


                            <div class="form-row">

                                <div class="form-group col-md-3">
                                    <label><i class=" fa fa-calendar-check text-primary"></i>   @Html.LabelFor(model => model.CreatedOn)</label>
                                    @Html.EditorFor(model => model.CreatedOn, new
                               {
                                   htmlAttributes = new
                                   {
                                       @class = "form-control form-control-sm",
                                       @Placeholder = "Record",
                                       @Value = DateTime.Now,
                                       @ReadOnly = true,


                                   }
                               })

                                </div>

                                <div class="form-group col-md-5">
                                    <label><i class=" fa fa-folder-open text-primary"></i>   @Html.LabelFor(model => model.Project_Name)</label>
                                    @Html.EditorFor(model => model.Project_Name, new
                               {
                                   htmlAttributes = new
                                   {
                                       @class = "form-control form-control-sm",
                                       @Placeholder = "Project_Name",
                                       @Required = true,


                                   }
                               })

                                </div>
                                <div class="form-group col-md-2" id="other">
                                    <label><i class="fa fa-wallet text-primary"></i>   @Html.LabelFor(model => model.Budget)</label>
                                    @Html.EditorFor(model => model.Budget, new
                               {
                                   htmlAttributes = new
                                   {
                                       @class = "form-control form-control-sm",
                                       @Placeholder = "Amount",
                                       id = "Budget",
                                       onchange = "addCommas(this)",
                                       @required = true,
                                   }
                               })
                                </div>
                                <script>
                                    function addCommas(element) {
                                        var value = parseFloat(element.value.replace(/,/g, ''));
                                        element.value = value.toLocaleString('en-US');
                                    }
                                    $(function () {
                                        $('form').submit(function () {
                                            var amountString = $('#Budget').val();
                                            var amountWithoutCommas = amountString.replace(/,/g, '');
                                            $('#Budget').val(amountWithoutCommas);


                                        });

                                    });
                                </script>
                                <div class="form-group col-md-5">
                                    <label><i class=" fa fa-map-marker text-primary"></i>   @Html.LabelFor(model => model.location)</label>
                                    @Html.EditorFor(model => model.location, new
                               {
                                   htmlAttributes = new
                                   {
                                       @class = "form-control form-control-sm",
                                       @Placeholder = "location",
                                       @Required = true,


                                   }
                               })
                                    <script type="text/javascript">
                                        google.maps.event.addDomListener(window, 'load', function () {
                                            var places = new google.maps.places.Autocomplete(document.getElementById('location'));
                                            google.maps.event.addListener(places, 'place_changed', function () {
                                                var place = places.getPlace();
                                                document.getElementById('Latitude').value = place.geometry.location.lat();
                                                document.getElementById('Longitude').value = place.geometry.location.lng();
                                            });
                                        });
                                    </script>
                                </div>


                                <div class="form-group col-md-2">
                                    <label><i class=" fa fa-user-circle text-primary"></i>   @Html.LabelFor(model => model.User)</label>
                                    @Html.EditorFor(model => model.User, new
                               {
                                   htmlAttributes = new
                                   {
                                       @class = "form-control form-control-sm",
                                       @Placeholder = "Record",
                                       @Value = User.Identity.Name,
                                       @ReadOnly = true,


                                   }
                               })

                                </div>


                            </div>
                            <div class="dropdown-divider"></div>
                            <input type="submit" value="Submit" class="btn btn-warning" />

                            @Html.ActionLink("Back to List", "Index", null, new { @class = "btn btn-primary btn" })
                        </form>
                    }
                </div>
            </div>
        </div>
    </div>
</div>