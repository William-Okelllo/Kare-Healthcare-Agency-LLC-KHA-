@model List<Ishop.Models.Drilldown_Model>


<style>
    body {
        background-image: url(../../images/33.jpg);
        background-size: cover;
        font-family: Calibri
    }

    .table-hover > tbody > tr:hover {
        background-color: #D2D2D2;
    }

    table {
        border-collapse: collapse;
        overflow: visible;
    }

    .form-rounded2 {
        border-radius: 0.5rem;
        width: 20%;
        border-color: white;
    }
    .curved-table {
        border-collapse: collapse;
        border-radius: 10px;
        overflow: hidden;
    }

        .curved-table th,
        .curved-table td {
            padding: 10px;
            border: 1px solid #d3d3d3;
        }
</style>

            <div class="col-md-12 col-sm-12 col-12">
                <div class="card mb- mb-xl-0" style="border-radius: 24px;">
                    <div class="card-header" style="background-color: #0656A5; color: white; border-radius: 14px ">
                        <i class="fa fa-bookmark text-warning"></i> Phase Performance Drill Down
                    </div>
                    <br />
                    <h4 style="text-align:center"><i class="fa fa-bookmark text-warning"></i> <b style="color:orange">Phase</b>:  @ViewBag.Phasedetail.Name</h4>
                    <small style="text-align:center"> @ViewBag.Project.Project_Name </small>
                    <div class="dropdown-divider"></div>
                    <div class="card-body" style="background-color: white;border-radius: 24px;">
                        <div class="form-row">
                            <div class="col-lg-4 col-12">
                                <div class="small-box bg-navy" style="border-radius: 15px">
                                    <div class="inner">

                                        <h5> <i class="fa fa-bookmark text-warning"></i><b>  Project Details</b></h5>
                                        <h6><i class="fa fa-tags"></i> @ViewBag.Project.Project_Name </h6>
                                        <h6><b><i class="fa fa-suitcase"></i>  Budget</b> : @ViewBag.Project.Budget.ToString("#,##0.00") <b style="font-size:medium"> Ksh</b></h6>

                                    </div>

                                </div>
                            </div>
                            <div class="col-lg-4 col-12">
                                <div class="small-box bg-gradient-gray-dark" style="border-radius: 15px">
                                    <div class="inner">

                                        <h4> <i class="fa fa-circle-notch text-warning"></i><b> Phase Details</b></h4>
                                        <h6><b><i class="fa fa-suitcase"></i> Budget :</b>  @ViewBag.Phasedetail.Budget.ToString("#,##0.00") <b style="font-size:medium"> Ksh</b></h6>
                                        <h6>
                                            <b><i class="fa fa-clock"></i>  Duration :</b> <a style="font-size:small">
                                                <i class="fa fa-calendar-day text-warning"></i>
                                                @ViewBag.Phasedetail.Start_Date.ToString("dd-MMMM-yyyy")  --<i class="fa fa-calendar-day text-warning"></i> @ViewBag.Phasedetail.End_Date.ToString("dd-MMMM-yyyy")
                                            </a>
                                        </h6>
                                    </div>

                                </div>
                            </div>
                            <div class="col-lg-4 col-12">
                                <div class="small-box bg-gradient-yellow" style="border-radius: 15px">
                                    <div class="inner">


                                        <h6><b><i class="fa fa-suitcase"></i>  Phase Budget  :</b>  @ViewBag.Phasedetail.Budget.ToString("#,##0.00") <b style="font-size:medium"> Ksh</b></h6>
                                        <h6><b><i class="fa fa-user-clock"></i>  Logged Amount :</b>  @ViewBag.Total.ToString("#,##0.00") <b style="font-size:medium"> Ksh</b></h6>
                                        <h6><b><i class="fa fa-coins"></i> Balance :</b>  @ViewBag.Balance.ToString("#,##0.00") <b style="font-size:medium"> Ksh</b></h6>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="dropdown-divider"></div>
                        <div class="col d-flex justify-content-center">
                            <div class="col-md-12 col-sm-12 col-12">


                                <div class="table-responsive">
                                    @if (Model != null && Model.Any())
                                    {
                                        <table class="table table-bordered table-hover table-condensed table-striped table-hover text-nowrap curved-table">
                                            <thead>
                                                <tr style="color:white">
                                                    <th style="background-color: #0656A5; font-size: medium; ">Team Member </th>
                                                    <th style="background-color: #0656A5; font-size: medium; ">Phase</th>
                                                    <th style="background-color: #0656A5; font-size: medium; ">Logged Amount</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var item in Model)
                                                {
                                                    <tr data-widget="expandable-table" aria-expanded="false">
                                                        <td style="background-color:white">
                                                            <i class="fa fa-user-circle text-primary"></i>  @item.User
                                                            <div class="dropdown-divider"></div>
                                                            <h2> <b>@item.Hours </b> <b style="font-size:large">Hrs</b></h2>
                                                        </td>
                                                        <td style="background-color:white">
                                                            <i class="fa fa-circle-notch text-primary"></i>  @item.Phase
                                                            <div class="dropdown-divider"></div>
                                                            <small>
                                                                <span class="badge badge-success">
                                                                    <medium><i class="fa fa-calendar-check text-white"></i>  </medium>
                                                                </span>
                                                                <b style="font-size:small">Start Date</b> : @ViewBag.Phas.Start_Date.ToString("dd-MMM-yyyy")
                                                            </small> -
                                                            <small>
                                                                <span class="badge badge-warning">
                                                                    <medium><i class="fa fa-calendar-check text-white"></i>  </medium>
                                                                </span>
                                                                <b style="font-size:small">End Date</b> : @ViewBag.Phas.End_Date.ToString("dd-MMM-yyyy")
                                                            </small>
                                                        </td>
                                                        <td style="background-color:white"><i class="fa fa-coins text-warning"></i>  @item.Logged.ToString("#,##0.00") </td>
                                                    </tr>
                                                }
                                            </tbody>
                                        </table>
                                    }
                                    else
                                    {
                                        <div class="col d-flex justify-content-center">
                                            <div class="col-lg-4 col-12">
                                                <!-- small card -->
                                                <div class="small-box bg-gradient-white" style="border-radius: 15px">
                                                    <div class="inner">

                                                        <h4> <img src="~/Images/P.png" height="40" /></h4>
                                                        <div class="dropdown-divider"></div>
                                                        <h6><i class="fa fa-spin fa-circle-notch text-success "></i>   No  Data logged under current phase</h6>

                                                    </div>

                                                </div>
                                            </div>


                                        </div>

                                    }
                                </div>
                            </div>
                        </div>


                        <a href="@Request.UrlReferrer" class="btn btn-primary">Back</a>
                    </div>
