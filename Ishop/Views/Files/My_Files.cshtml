@using PagedList
@using PagedList.Mvc;




<style type="text/css">
    .loading {
        font-size: 10pt;
        width: 200px;
        height: 100px;
        display: none;
        position: fixed;
        z-index: 999;
    }
</style>



<!-- Main content -->

<style>
    body {
        background-image: url(../../images/33.jpg);
        background-size: cover;
        font-family: Calibri
    }

    .table-hover > tbody > tr:hover {
        background-color: #D2D2D2;
    }

    .form-rounded2 {
        border-radius: 0.5rem;
        width: 40%;
        border-color: dodgerblue;
    }

    .bwe {
        font-family: Quicksand;
    }
</style>
<div class="card " style="background-color: rgb(255, 255, 255, 0.83);">


    <div class="card-header col-md-12 col-sm-10 col-10 col d-flex justify-content-center" style="background-color: darkcyan; color: white; border-radius: 14px ">
        <h3 class="card-title" style="color:white;text-align:left">
            <i class="fa fa-briefcase"></i>
            My Documents
        </h3>
    </div>




    @if (TempData["Msg"] != null)
    {<div class="row">
            <div class="alert alert-success col-md-6 col-md-offset-4" align="center">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <strong>Success!</strong> @TempData["Msg"]
            </div>
        </div>
    }
    <script>
        window.setTimeout(function () {
            $(".alert").fadeTo(500, 0).slideUp(500, function () {
                $(this).remove();
            });
        }, 2000);
    </script>



    <div class="dropdown-divider"></div>
    <div style="text-align: center; color:white ">

        @Html.ActionLink("Upload New Documents", "Upload", "Files", null, new { @class = "btn btn-primary btn-sm" })
    </div>





<div class="card-body">
    <div class="row">
        @foreach (var item in Model)
        {
            <div class="col-lg-4 col-12" style="border-radius: 27px ">
                <!-- small box -->
                <div class="small-box bg-gradient-gray-dark" style="border-radius: 27px ">
                    <div class="inner" style="border-radius: 27px ">
                        <h5>
                            @if (@Path.GetExtension(@item.Path) == ".jpg")
                            {
                                <i class="fa fa-images"></i>

                            }
                            else if (@Path.GetExtension(@item.Path) == ".png")
                            {
                                <i class="fa fa-images"></i>

                            }

                            else if (@Path.GetExtension(@item.Path) == ".xlsx")
                            {
                                <i class="fa fa-file-excel"></i>


                            }
                            else if (@Path.GetExtension(@item.Path) == ".docx")
                            {
                                <i class="fa fa-file-word"></i>

                            }

                            else if (@Path.GetExtension(@item.Path) == ".pdf")
                            {
                                <i class="fa fa-file-pdf"></i>

                            }  @item.Name
                        </h5>

                        <p>
                            <i class="fa fa-folder-open  text-white"></i>  File Category :   @item.Category
                        </p>
                        <p>
                            <i class="fa fa-calendar-check  text-white"></i>  Uploaded On :   @item.UploadedOn.ToString("dd-MMM-yyyy")
                        </p>

                    </div>
                    <div class="icon">
                        <i class="fa fa-10x fa-folder-open"></i>
                    </div>
                    <a href="~/Files/DownloadFile?filePath=@item.Path" class="btn-sm btn btn-primary btn"><i class="fa fa-download text-white"></i> Download</a>
                    ||
                    <a href="@Url.Action("Delete_File", "Files", new { @item.id})" class="btn-sm btn btn-danger btn"
                       onclick="if (confirm('Are you sure you want to delete this file?')) { window.location.href = '@Url.Action("Delete_File", "Files", new { @item.id})'; }"><i class="fa fa-trash text-white"></i> Delete</a>
                </div>
            </div>
        }
    </div>
</div>




    </div>





